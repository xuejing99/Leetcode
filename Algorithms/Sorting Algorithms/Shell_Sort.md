# 希尔排序（Shell's Sort）

## 简介
希尔排序，也称递减增量排序算法，是插入排序的一种更高效的改进版本。

希尔排序是基于插入排序的以下两点性质而提出改进方法的：
- 插入排序在对几乎已经排好序的数据操作时，效率高，即可以达到线性排序的效率；
- 但插入排序一般来说是低效的，因为插入排序每次只能将数据移动一位；

希尔排序的基本思想是：先将整个待排序的记录序列分割成为若干子序列分别进行直接插入排序，待整个序列中的记录"基本有序"时，再对全体记录进行依次直接插入排序。


## 算法步骤
1. 选择一个增量序列 $t_1，t_2，t_i, …，t_j, …, t_k$，其中 $t_i > t_j, t_k = 1$；
2. 按增量序列个数 $k$，对序列进行 $k$ 趟排序；
3. 每趟排序，根据对应的增量 $t_i$，将待排序列分割成若干长度为 $m$ 的子序列，分别对各子表进行直接插入排序。仅增量因子为 1 时，整个序列作为一个表来处理，表长度即为整个序列的长度。


## 算法特性
1. 不稳定排序
2. 每一轮的增量需要彼此“互质”


## 复杂度分析
1. 时间复杂度：$O(n^2)$
2. 空间复杂度：$O(1)$

Hibbard 增量序列（1，3，5，7，...）：最坏时间复杂度为 $O(n^(3/2))$
Sedgewick 增量序列（1，5，19，41，...）：最坏时间复杂度为 $O(n^(4/3))$


## 算法图解
![image](https://user-images.githubusercontent.com/48306154/124568938-0f5b1000-de78-11eb-8ee8-b7bab6af08ac.png)



## 代码实现
### Python 实现
```python
def shellSort(arr):
    import math
    gap=1
    while(gap < len(arr)/3):
        gap = gap*3+1
    while gap > 0:
        for i in range(gap,len(arr)):
            temp = arr[i]
            j = i-gap
            while j >=0 and arr[j] > temp:
                arr[j+gap]=arr[j]
                j-=gap
            arr[j+gap] = temp
        gap = math.floor(gap/3)
    return arr
```


## 备注
1. 适用于中等规模的数据
